# Cloudflare Turnstile Capture for WP Advanced Forms

This WordPress plugin integrates [Cloudflare Turnstile](https://www.cloudflare.com/en-gb/products/turnstile/) CAPTCHA into forms created with [WP Advanced Forms](https://advancedforms.github.io/). 

## Requirements

- **Bedrock**: This plugin is designed to work exclusively on Bedrock sites.
- **AJAX Submissions**: The plugin only works when forms are submitted using AJAX. Ensure your forms are set up with the following attributes:

```
    [advanced_form ajax="1"]
```

```
    advanced_form( 'key', array['ajax' => true]) 
```

## Installation

1. **Add Your Cloudflare Keys**

   To use this plugin, you need to add your Cloudflare Turnstile keys in your `.env` file:

```
   CAPTURE_SITE_KEY=your_site_key_here  
   CAPTURE_SECRET_KEY=your_secret_key_here
```

2. **Define Keys in Configuration**

   Next, define the keys in your `config/application.php` file:

```
   Config::define('CAPTURE_SITE_KEY', env('CAPTURE_SITE_KEY'));
   Config::define('CAPTURE_SECRET_KEY', env('CAPTURE_SECRET_KEY'));
```

## How It Works

Once you have configured the plugin with your Cloudflare keys, it automatically adds a Cloudflare Turnstile CAPTCHA to every form on your website created using WP Advanced Forms. This provides an extra layer of security by helping to prevent spam submissions.

## Usage

- After installation and configuration, a Turnstile CAPTCHA field will be appended to each form generated by WP Advanced Forms.
- Ensure that your forms are correctly set up to utilize the CAPTCHA verification during the submission process.

## Troubleshooting

- If you encounter any issues, ensure that your Cloudflare keys are correctly set in the `.env` file and properly defined in the `config/application.php`.
- Check the browser console for any JavaScript errors or issues related to loading the Turnstile widget.

## License

This plugin is licensed under the [MIT License](https://opensource.org/license/mit).

---

Thank you for using the Cloudflare Turnstile Capture for WP Advanced Forms!
